const fs = require('fs')
const ytdl = require('ytdl-core')

// ! Do not pass any song name having space inside it
const mp3Downloader = (videoUrl, songName) => {
    
    try {
        
        if (!songName) songName = 'song'
        ytdl(videoUrl, {
            filter: format => format.audioQuality === 'AUDIO_QUALITY_MEDIUM'
        })
            .pipe(fs.createWriteStream(`${songName}.mp3`))
    } catch (error) {
        console.error('Error: ', error)
    }
}

module.exports = mp3Downloader